# 🗑️ 刪除功能說明

## 新增功能

您的專案現在支援通過 LINE 訊息刪除用戶資料！

## 使用方法

在 LINE 中發送以下格式的訊息：

```
名字 delete
```

## 範例

-   `小明 delete` - 刪除用戶「小明」的所有資料
-   `阿華 delete` - 刪除用戶「阿華」的所有資料
-   `測試用戶 delete` - 刪除用戶「測試用戶」的所有資料

## 注意事項

⚠️ **重要提醒**：

-   刪除操作是**不可逆的**
-   刪除後該用戶的所有計數和宣言都會消失
-   歷史記錄也會被清除
-   請謹慎使用此功能

## 技術實現

-   使用正則表達式 `/^(.+?)\s+delete$/i` 來匹配刪除指令
-   支援大小寫不敏感的匹配
-   會檢查用戶是否存在再執行刪除
-   在 Cloud Functions 日誌中會記錄刪除操作

## 部署步驟

1. 確保已更新 `functions/index.js`
2. 部署 Cloud Functions：`firebase deploy --only functions`
3. 部署資料庫規則：`firebase deploy --only database`

## 安全考量

-   只有通過 LINE Webhook 的訊息才能觸發刪除
-   資料庫規則已更新，確保安全性
-   建議定期備份重要資料
